<!DOCTYPE html>
<html>
<head>
  <title>Chakali Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style.css">
</head>
<body class="splash-active">
  <div class="splash-screen" id="splashScreen" role="status" aria-live="polite">
    <div class="splash-center">
      <div class="splash-logo"><span>C</span></div>
      <p class="splash-brand">Chakali Store</p>
    </div>
  </div>

  <div class="container main-content" id="mainContent">
    <nav class="topbar">
      <div class="logo-side">
        <div class="chakali-logo"><span>C</span></div>
        <h1 class="brand">Chakali Store</h1>
      </div>
      <div class="menu">
        <a href="/admin/login">Admin Login</a>
      </div>
    </nav>

    <%
      const slideImages = [
        { src: "/slideshow/1.png", alt: "Chakali Slide 1" },
        { src: "/slideshow/2.png", alt: "Chakali Slide 2" },
        { src: "/slideshow/3.png", alt: "Chakali Slide 3" },
        { src: "/slideshow/4.png", alt: "Chakali Slide 4" }
      ];
    %>

    <section class="home-hero">
      <p class="pill">Homemade with Tradition</p>
      <h2 class="hero-title">Har Haath Mein <span>Chakali</span></h2>
      <p class="home-tagline">Home made chakali, made with love and tradition.</p>
      <p class="hero-text">Home made chakali, made with love and tradition. Experience the authentic taste of India's favorite snack, crafted fresh daily.</p>
      <div class="hero-buttons">
        <a class="btn btn-primary" href="/shop">Shop Now</a>
        <a class="btn btn-secondary" href="/shop#products">View Products</a>
      </div>

      <div class="hero-slideshow" id="heroSlideshow">
        <% slideImages.forEach(function(slide, i){ %>
          <img
            class="hero-main-image slide <%= i === 0 ? 'active' : '' %>"
            src="<%= slide.src %>"
            alt="<%= slide.alt %>"
            data-slide-index="<%= i %>"
          >
        <% }) %>
        <div class="slide-dots">
          <% slideImages.forEach(function(_, i){ %>
            <button type="button" class="slide-dot <%= i === 0 ? 'active' : '' %>" data-slide-to="<%= i %>" aria-label="Slide <%= i + 1 %>"></button>
          <% }) %>
        </div>
      </div>
    </section>

    <section class="why-us-section" id="about">
      <h2>Why Choose Us?</h2>
      <p>Quality and tradition in every bite</p>

      <div class="features-grid">
        <article class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M12 21s-6.7-4.3-9.3-8.1A5.6 5.6 0 0 1 12 5a5.6 5.6 0 0 1 9.3 7.9C18.7 16.7 12 21 12 21z"/></svg>
          </div>
          <h3>Made with Love</h3>
          <p>Every chakali is handcrafted with care and traditional recipes passed down through generations.</p>
        </article>

        <article class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M3 7h11v8H3zM14 10h3l3 3v2h-6zM7 18a2 2 0 1 0 0-.01zM17 18a2 2 0 1 0 0-.01z"/></svg>
          </div>
          <h3>Fresh Delivery</h3>
          <p>We deliver fresh, hot chakali right to your doorstep within 24 hours.</p>
        </article>

        <article class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M4 8h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zM9 8V6h6v2M9 13l2 2 4-4"/></svg>
          </div>
          <h3>Quality Ingredients</h3>
          <p>Only the finest quality ingredients are used to ensure authentic taste and freshness.</p>
        </article>
      </div>
    </section>

    <section class="shop-cta" id="contact">
      <h2>Ready to taste tradition?</h2>
      <p>Order now and get fresh, homemade chakali delivered to your doorstep</p>
      <a class="btn cta-button" href="/shop">Start Shopping</a>
    </section>

    <footer class="site-footer">
      <div class="footer-block brand-block">
        <div class="logo-side">
          <div class="chakali-logo"><span>C</span></div>
          <h3>Chakali Store</h3>
        </div>
        <p>Bringing the taste of tradition to every home since years.</p>
      </div>

      <div class="footer-block">
        <h4>Quick Links</h4>
        <a href="/shop">Shop</a>
        <a href="#about">About Us</a>
        <a href="#contact">Contact Us</a>
      </div>

      <div class="footer-block">
        <h4>Contact Us</h4>
        <p><%= adminWhatsAppNumber || '+91 9860474713' %></p>
        <p>Order via WhatsApp for quick service</p>
      </div>

      <div class="footer-bottom">&copy; 2026 Chakali Store. All rights reserved.</div>
    </footer>
  </div>

  <% if (adminWhatsAppNumber) { %>
    <a
      class="floating-whatsapp"
      href="https://wa.me/<%= String(adminWhatsAppNumber).replace(/[^\d]/g, '') %>?text=<%= encodeURIComponent('Hello, I want to order from Chakali Store') %>"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Chat on WhatsApp"
      title="Chat on WhatsApp"
    >
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12.04 2C6.52 2 2.04 6.48 2.04 12c0 1.77.46 3.51 1.33 5.04L2 22l5.11-1.34A9.96 9.96 0 0 0 12.04 22C17.56 22 22.04 17.52 22.04 12S17.56 2 12.04 2zm0 18.2c-1.53 0-3.03-.4-4.34-1.16l-.31-.18-3.03.8.81-2.95-.2-.31a8.16 8.16 0 0 1-1.25-4.4 8.32 8.32 0 1 1 8.32 8.2zm4.56-6.12c-.25-.12-1.48-.73-1.71-.81-.23-.08-.39-.12-.56.12-.17.25-.64.81-.79.98-.15.17-.29.19-.54.06-.25-.12-1.05-.39-2-1.25-.74-.66-1.24-1.48-1.39-1.73-.15-.25-.02-.38.1-.5.11-.11.25-.29.37-.43.12-.15.17-.25.25-.42.08-.17.04-.31-.02-.43-.06-.12-.56-1.35-.77-1.85-.2-.48-.41-.41-.56-.42h-.48c-.17 0-.43.06-.66.31-.23.25-.87.85-.87 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74.59.25 1.05.4 1.41.52.59.19 1.12.16 1.54.1.47-.07 1.48-.6 1.69-1.18.21-.58.21-1.08.15-1.18-.06-.1-.23-.16-.48-.29z"></path></svg>
    </a>
  <% } %>

  <script>
    (function () {
      var splashScreen = document.getElementById("splashScreen");
      var bodyEl = document.body;
      if (!splashScreen || !bodyEl) return;

      var closed = false;
      var minimumDisplayMs = 4000;
      var absoluteMaxMs = 4000;

      function closeSplash() {
        if (closed) return;
        closed = true;
        bodyEl.classList.remove("splash-active");
        splashScreen.classList.add("hidden");
      }

      window.addEventListener("load", function () {
        setTimeout(closeSplash, minimumDisplayMs);
      });

      setTimeout(closeSplash, absoluteMaxMs);
    })();
  </script>

  <script>
    (function () {
      var slideshow = document.getElementById("heroSlideshow");
      if (!slideshow) return;
      var slides = Array.from(slideshow.querySelectorAll(".slide"));
      var dots = Array.from(slideshow.querySelectorAll(".slide-dot"));
      if (!slides.length) return;
      var current = 0;
      var timer = null;

      function render(index) {
        current = (index + slides.length) % slides.length;
        slides.forEach(function (s, i) { s.classList.toggle("active", i === current); });
        dots.forEach(function (d, i) { d.classList.toggle("active", i === current); });
      }

      function start() {
        if (timer) clearInterval(timer);
        timer = setInterval(function () { render(current + 1); }, 3200);
      }

      function stop() {
        if (!timer) return;
        clearInterval(timer);
        timer = null;
      }

      dots.forEach(function (dot, i) {
        dot.addEventListener("click", function () {
          render(i);
          start();
        });
      });

      slideshow.addEventListener("mouseenter", stop);
      slideshow.addEventListener("mouseleave", start);
      slideshow.addEventListener("touchstart", stop, { passive: true });
      slideshow.addEventListener("touchend", start, { passive: true });

      render(0);
      start();
    })();
  </script>
</body>
</html>
